Introduction
============

This repository contains the original source code for Acorn OS 1.20.

The structure of the repository is as follows:

    original_sources.zip
              - a copy of the original OS 1.20 source files, with the
                original <cr> line endings, a couple of build bugs (in
                MosHdr and MakeMOS) and a 1-bit character error in
                MOS44 (in a comment).

    adfs/     - disk images in ADFS (adl and dat) formats;
                these were created manually (using ADFS Explorer)

    dfs/      - disk images in DFS (ssd and dsd) formats;
                these are generated by the make_disk_images.sh script
                which uses SWEH's Perl mmb_utils.

    src/      - the OS 1.20 source files (with various build fixes)

    tools/    - binaries for MASM (both DFS and non-DFS versions)

Assembling the OS Source Code
=============================

An Acorn Turbo (256K) 6502 Co Processor is needed to assemble the OS
1.20 sources. As originals are exceedingly rare, an alternative is the
emulated version provided by PiTubeDirect Fer-De-Lance (and later) as
Co Pro 17. The reset banner should say: "Acorn TUBE 6502 256K".

The source code is in Acorn MASM format, and a copy of the "Turbo"
version of MASM (called TurMASM) is included in the disk images.

Using ADFS:
===========

The disk organization on ADFS involves a single disk image containing
the tools (TurMASM), build scripts, source code, and sufficient free
space for the build process.

In the adfs/ directory are the following versions:

   AcornOS120.adl - this is a 640KB interleaved disk image, suitable
   for writing to a floppy disk.

   AcornOS120.dat - this is a 640KB non-interleaved disk image,
   suitable for using with BeebSCSI (e.g. rename it to scsi0.dat).

Transfer one of these disk images onto your physical hardware.

To assemble the sources, you just need to boot the disk (it contains
an appropriate !BOOT file)

The OS 1.20 binary is generated in a file called MOS1_20 in the root directory
    (this has a MD5SUM of 0a59a5ba15fe8557b5f7fee32bbd393a)

Using DFS:
==========

(or MMFS)

The disk organization on DFS involves four disk images:
- drive 0: Tools (TurMASM)
- drive 2: Working files (initially empty)
- drive 1: OS 1.20 source code
- drive 3: OS 1.20 source code (continued)

In the dfs/ directory are following versions:

Four seperate single sided disk images:
     ssd/AcornOS120_disk0.ssd
     ssd/AcornOS120_disk1.ssd
     ssd/AcornOS120_disk2.ssd
     ssd/AcornOS120_disk3.ssd

Two seperate double-sided disk images:
    dsd/AcornOS120_disk02.dsd
    dsd/AcornOS120_disk13.dsd

Transfer one of these disk image sets onto your physical hardware.

To assemble the sources, you just need to boot disk 0 (it contains an
appropriate !BOOT file)

The OS 1.20 binary is generated in a file called MOS1_20 on disk 2
    (this has a MD5SUM of 0a59a5ba15fe8557b5f7fee32bbd393a)
